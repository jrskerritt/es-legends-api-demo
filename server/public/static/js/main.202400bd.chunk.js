(this["webpackJsonpes-legends-api-demo-client"]=this["webpackJsonpes-legends-api-demo-client"]||[]).push([[0],{21:function(e,a,t){e.exports=t(40)},32:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(3),l=t(1),s=t(20),o=t(11),i=t.n(o),u=t(16),m=function(e){return{error:e,type:"HANDLE_FETCH_ERROR"}},d=function(){return function(){var e=Object(u.a)(i.a.mark((function e(a,t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t(),n=r.nextPageUrl,!r.loading){e.next=3;break}return e.abrupt("return");case 3:return a({type:"REQUEST_CARDS"}),e.abrupt("return",fetch(n).then((function(e){return e.json()})).then((function(e){return a({cards:(t=e).cards,nextPageUrl:t.nextPageUrl,type:"RECEIVE_CARDS"});var t})).catch((function(e){return a(m(e))})));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()};t(32);function E(){var e=Object(l.b)(),a=Object(r.useState)(""),t=Object(s.a)(a,2),c=t[0],o=t[1],i=function(){c&&(e({term:c,type:"SEARCH_CARDS"}),o(""))};return n.a.createElement("div",{className:"search pure-form"},n.a.createElement("input",{type:"text",className:"pure-input",placeholder:"Card name",value:c,onChange:function(e){var a=e.target;return o(a.value)},onKeyPress:function(e){"Enter"===e.key&&i()}}),n.a.createElement("button",{className:"pure-button pure-button-primary",type:"button",disabled:!1,onClick:i},"Search"))}var h=t(7),p=t(17),f=t.n(p);t(35);function g(e){var a=e.name,t=e.rarity,r=e.type,c=e.subtypes,l=e.cost,s=e.power,o=e.health,i=e.set,u=e.text,m=e.imageUrl;return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card__image"},n.a.createElement(h.LazyLoadImage,{alt:a,height:486,src:m,width:300})),n.a.createElement("div",{className:"card__details"},n.a.createElement("div",{className:"card__name card__name-".concat(t.toLowerCase())},a),n.a.createElement("div",{className:"card__type"},r," \u2014\xa0",n.a.createElement("span",{className:"card__stats"},l," mana",o&&n.a.createElement("span",{className:"card__power-health"},"\xa0","".concat(s,"/").concat(o))),c&&n.a.createElement("span",{className:"card__subtypes"},"\xa0",c.join(", "))),n.a.createElement("div",{className:"card__set"},i),n.a.createElement("div",{className:"card__text"},u)))}var v=t(18),_=t.n(v);t(36);function b(){return n.a.createElement("div",{className:"loading-placeholder","data-testid":"loadingPlaceholder"},n.a.createElement(_.a,{type:"bars",color:"#e6e6e6",height:"120px",width:"250px"}))}t(37);var C=Object(h.trackWindowScroll)((function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return{cards:e.cards,loading:e.loading,nextPageUrl:e.nextPageUrl,searchTerm:e.searchTerm}})),t=a.cards,c=a.loading,s=a.nextPageUrl,o=a.searchTerm;return Object(r.useEffect)((function(){function a(){if(!c&&s){var a=document.documentElement,t=a.scrollTop,r=a.offsetHeight;window.innerHeight+t>r-300&&e(d())}}return!t.length&&s&&e(d()),window.addEventListener("scroll",a),function(){return window.removeEventListener("scroll",a)}}),[e,t,c,s]),n.a.createElement("div",{className:"search-results"},o&&!c&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"search-results__header"},'Results for "',o,'" (',n.a.createElement("div",{className:"search-results__clear-link",onClick:function(){e({type:"CLEAR_SEARCH"})}},"Clear"),")")),0===t.length&&!s&&n.a.createElement("div",{className:"search-results__empty"},"No results"),t&&n.a.createElement("div",{className:"search-results__cards"},t.map((function(e){return n.a.createElement(g,Object.assign({key:e.id},e))}))),c&&n.a.createElement(b,null),n.a.createElement(f.a,null))}));t(38);function N(){return n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"app__head"},n.a.createElement("h1",null,"The Elder Scrolls: Legends"),n.a.createElement("h2",null,"Search Cards"),n.a.createElement(E,null)),n.a.createElement(C,null))}var R=t(4),w=t(19),y=t(12),j=t(2);function x(e,a){switch(a.type){case"REQUEST_CARDS":return Object(j.a)({},e,{loading:!0});case"RECEIVE_CARDS":var t=a.cards,r=a.nextPageUrl;return Object(j.a)({},e,{nextPageUrl:r,cards:[].concat(Object(y.a)(e.cards),Object(y.a)(t)),loading:!1});case"SEARCH_CARDS":return Object(j.a)({},e,{cards:[],nextPageUrl:"".concat(O.nextPageUrl,"&name=").concat(encodeURIComponent(a.term)),searchTerm:a.term});case"CLEAR_SEARCH":return Object(j.a)({},e,{cards:[],nextPageUrl:O.nextPageUrl,searchTerm:O.searchTerm});case"HANDLE_FETCH_ERROR":return Object(j.a)({},e,{loading:!1,error:a.error});default:return e}}var O={cards:[],error:null,loading:!1,nextPageUrl:"/api/cards?page=1",searchTerm:""};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(39);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=Object(R.a)(w.a);return Object(R.c)(x,e,a)}();Object(c.render)(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,{store:S},n.a.createElement(N,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.202400bd.chunk.js.map